<% if !current_user.posts.exists? %>
  <%= render partial: "empty_state" %>
<% else %>
  <div class="d-flex flex-justify-between flex-align-center">
    <h1>Posts</h1>

    <%= render partial: "search_form",
      locals: {
        url: posts_path,
        fields: %w[archived query],
        search_params: @search_params
      }
    %>
  </div>

  <div id="posts_list">
    <% if @posts.exists? %>
      <%= render partial: "posts/post", collection: @posts %>
      <%= paginate @posts %>
    <% else %>
      <%= render partial: "no_results_found" %>
    <% end %>
  </div>
<% end %>
